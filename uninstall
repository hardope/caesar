#!/bin/bash

# ANSI color codes for coloring the progress bar and messages
GREEN='\033[0;32m'
NC='\033[0m'  # No color

# Function to display a text-based progress bar
progress_bar() {
    local duration="$1"
    local width=50
    local fill="#"
    local increment=0.02  # Increment for progress bar

    printf "Progress: [${GREEN}"
    for ((i = 0; i < width; i++)); do
        printf "%s" "$fill"
        sleep "$increment"
    done
    printf "${NC}] ${GREEN}100%%${NC}\n"
}

# Function to uninstall Caesar cipher
uninstall_caesar() {
    INSTALLED_VERSION=$(caesar --version) 2>/dev/null 
    echo -e "${GREEN}Uninstalling Caesar cipher...${NC}"
    echo -e "${GREEN}Found existing installation, ${INSTALLED_VERSION} ${NC}"
    # Remove the executable from the system path
    sudo rm -f /usr/local/bin/caesar
    echo -e "${GREEN}Caesar cipher has been uninstalled.${NC}"
}

# Check if Caesar cipher is installed
if command -v caesar &>/dev/null; then
    uninstall_caesar
else
    echo -e "${GREEN}Caesar cipher is not installed.${NC}"
fi

# Call the progress_bar function with a duration of 1 second to indicate completion
progress_bar 1
